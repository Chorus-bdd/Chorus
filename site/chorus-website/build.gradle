
description = "Jekyll website for Chorus"

dependencies {
    
    implementation 'org.freemarker:freemarker:2.3.31'

    testImplementation group: 'junit', name: 'junit', version: '4.13.2'
}

task generatePages(group: 'chorus-website', type: JavaExec) {
    doFirst {
        println("Generating website pages")
    }
    classpath = sourceSets.main.runtimeClasspath
    main = 'org.chorusbdd.chorus.site.markdown.PageGenerator'
    args ''
}

task updatePageLinks(group: 'chorus-website', type: JavaExec) {
    doFirst {
        println("Updating page links")
    }
    classpath = sourceSets.main.runtimeClasspath
    main = 'org.chorusbdd.chorus.site.UpdatePageLinks'
    args ''
}

updatePageLinks.dependsOn(generatePages)

build {
    finalizedBy(updatePageLinks)
}